<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 聊聊区块链 · Mi Tang</title><meta name="description" content="聊聊区块链 - fish·nut"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://lpbobo.com/atom.xml" title="Mi Tang"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">HOME</a></li><li class="nav-list-item"><a href="/categories/Science" target="_self" class="nav-list-link">SCIENCE</a></li><li class="nav-list-item"><a href="/categories/Trip" target="_self" class="nav-list-link">TRIP</a></li><li class="nav-list-item"><a href="/About" target="_self" class="nav-list-link">WE</a></li></ul></header><div class="wrap"><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">聊聊区块链</h1><div class="post-info">2016年4月29日</div><div class="post-content"><p>2008年世界范围内的金融危机爆发，2009年比特币横空出世。比特币是一种点对点的电子现金系统，无需第三方信用机构介入就能确保交易的可信性，突破了传统金融体系中需要企业或机构背书的事实。作为底层实现技术，区块链大放异彩。区块链是一种去中心化的协议，是一个安全的分布式账本，交易可信性由计算机cpu的算力及密码学原理确保，无需中心化机构审核，交易不会被伪造或篡改，交易内容既可以是数字货币，也可以是股权等数字资产，能够颠覆现实世界中所有信任成本较高的产业，包括金融、股票、审计、物联网等，具备无限潜能。</p>
<a id="more"></a>
<h3 id="初识比特币"><a href="#初识比特币" class="headerlink" title="初识比特币"></a>初识比特币</h3><p>比特币是一种P2P的数字货币，在交易过程中不需要任何第三方支付系统，打个比方，就是我们在淘宝上购物时，直接把钱付给商家。作为一种数字货币，比特币具备货币的几个基本职能：s</p>
<ol>
<li>价值尺度</li>
<li>流通手段</li>
<li>贮藏手段</li>
<li>支付手段</li>
<li>世界货币</li>
</ol>
<p>数字货币与Q币等虚拟货币具有本质的不同，Q币是腾讯发行的，在腾讯的游戏平台里使用，是以腾讯的信用为担保的，消费者认同Q币在腾讯平台下的价值，但是Q币不能在其他渠道下流通，也不能够反向转换成现金。而数字货币可以用于真实世界的商品和服务交易，不受到网络虚拟空间的局限。</p>
<p>比特币大火的原因，就在于比特币不是由某一家企业或机构的信用背书的，其价值来自于基于数学体系的自证其信，核心意义就是解决了分布式节点之间如何达成共识的问题（拜占庭将军问题），不需要第三方（银行、机构等）。作为一个分布式账本，互联网上每一个账本都记录着所有的交易信息，交易的有效性来自于网络上其他节点的见证，是一个群体投票的过程。这种<strong>去信任</strong>的特性造就了比特币的与众不同。</p>
<blockquote>
<p>背书：原意表示在支票等背后签名表示支付、收到或同意转让等，表示用信用支持。</p>
<p>拜占庭将军问题：分布式节点之间如何达成共识的问题。</p>
</blockquote>
<h3 id="去信任是一种颠覆"><a href="#去信任是一种颠覆" class="headerlink" title="去信任是一种颠覆"></a>去信任是一种颠覆</h3><p>从货币的发展来看，银行就是一个货币发行机构，拥有很高的信誉程度，客户可以放心的把钱存在银行，放心的通过银行做交易，拥有庞大的可辨识客户的基础，拥有处理复杂金融规则方面的经验。我们可以把银行比作数据库，里面记录了个人所有的交易信息，由银行负责对这个数据库进行更新和验证。但是这不代表银行是完全可信的，第三方总存在不可信的可能性。</p>
<blockquote>
<p>互联网上的贸易，几乎都需要借助金融机构作为可资信赖的第三方来处理电子支付信息。虽然这类系统在绝大多数情况下都运作良好，但是这类系统仍然内生性地受制于“基于信用的模式”(trust based model)的弱点。我们无法实现完全不可逆的交易，因为金融机构总是不可避免地会出面协调争端。而金融中介的存在，也会增加交易的成本，并且限制了实际可行的最小交易规模，也限制了日常的小额支付交易。并且潜在的损失还在于，很多商品和服务本身是无法退货的，如果缺乏不可逆的支付手段，互联网的贸易就大大受限。因为有潜在的退款的可能，就需要交易双方拥有信任。而商家也必须提防自己的客户，因此会向客户索取完全不必要的个人信息。而实际的商业行为中，一定比例的欺诈性客户也被认为是不可避免的，相关损失视作销售费用处理。而在使用物理现金的情况下，这些销售费用和支付问题上的不确定性却是可以避免的，因为此时没有第三方信用中介的存在。</p>
</blockquote>
<p>银行也是中介，没人从根本上喜欢中间商赚差价，去信任就意味着我们可以省去中间环节的一切开销，颠覆中介，约吗？</p>
<h3 id="比特币的诞生"><a href="#比特币的诞生" class="headerlink" title="比特币的诞生"></a>比特币的诞生</h3><blockquote>
<p>所以，我们非常需要这样一种电子支付系统，它基于密码学原理而不基于信用，使得任何达成一致的双方，能够直接进行支付，从而不需要第三方中介的参与。杜绝回滚(reverse)支付交易的可能，这就可以保护特定的卖家免于欺诈；而对于想要保护买家的人来说，在此环境下设立通常的第三方担保机制也可谓轻松加愉快。</p>
</blockquote>
<p>于是乎，在2008年的全球金融危机产生后，网名为中本聪的人发表了一篇论文，描述了一种点对点的电子现金系统，称作<a href="http://www.8btc.com/wiki/bitcoin-a-peer-to-peer-electronic-cash-system" target="_blank" rel="external">比特币白皮书</a>，并在2009年创建了第一个区块Genesis Block，发布了有史以来的50个比特币。</p>
<p>在中本聪的论文中，提出了一种通过点对点分布式的时间戳服务器来生成依照时间前后排列并加以记录的电子交易证明，从而解决双重支付问题。只要诚实的节点所控制的计算能力的总和，大于有合作关系的(cooperating)攻击者的计算能力的总和，该系统就是安全的，为比特币的可能性提供了验证条件。</p>
<p>拥有去信任、去中心化的特性，比特币就是粉碎了信用需要第三方背书的事实，从而自证其信，其实现的机制-区块链可以被称作“创造信任的机器”。截至2016年，已经发展了7年，期间发生过许多大事件，比特币的影响力也越来越大，中国是世界上最大的比特币交易市场。</p>
<blockquote>
<p>更形象地说，比特币就是虚拟世界的真金白银，是虚拟世界的实体货币。</p>
</blockquote>
<p>比特币完全具备这种取代现有货币体系的潜力，这不是吹嘘，而是来自于其区块链技术技术的完备性。</p>
<h3 id="区块链"><a href="#区块链" class="headerlink" title="区块链"></a>区块链</h3><blockquote>
<p>区块链是一种新型去中心化的协议，能安全地存储比特币交易或其他数据，信息不可伪造和篡改，可以自动执行智能合约，无需任何中心化机构的审核，交易既可以是比特币这样的数字货币，也可以是期权、股权、版权等数字资产，区块链解决了拜占庭将军问题，大大降低了现实经济的信任成本与会计成本，重新定义了互联网时代的产权制度。</p>
</blockquote>
<h3 id="交易"><a href="#交易" class="headerlink" title="交易"></a>交易</h3><p>首先看看区块链中的基本数据元素：交易。每一个区块中包含了一组交易数据，一笔交易定义了数字货币在两个交易者间传递的情景：</p>
<p><img src="http://7fvhfe.com1.z0.glb.clouddn.com/%40%2F/wp-content/uploads/2013/11/11.png" alt=""></p>
<p>每一笔交易至少包含一个输入、一个输出，每一个输入和输出中都必须包含下图中所示的变量：</p>
<p><img src="http://8btc.com/data/attachment/portal/201412/01/094343prrlfitlmiefr9mz.png" alt=""></p>
<p>同时，每个输入都使用上一笔交易的输出作为输入，每一个输出都在等待着被下一个输入消费。</p>
<p>交易解决了钱从哪来，又到哪去的问题，每一条交易都将被串起来，交易信息都可查。在每笔交易的末尾签署下一位拥有者的公钥，收款人通过自己的私钥使用这个货币。在每笔交易的开始签署拥有者的公钥，收款人通过检查发送者的签名，就能确认交易的拥有者。</p>
<p>这种数字签名的方法，在30年前就已经被发明，而数字货币迟迟没有诞生的原因在于一直没有解决双花问题，如何确定钱没有被同时转给两个人，构成欺骗？也就是说数字货币需要在互联网上进行“传递”（我给你，你就有了，我就没有了），而这个技术难题是一直没有被解决的，区块链则在这个方向是一次技术突破。</p>
<h3 id="时间戳服务器"><a href="#时间戳服务器" class="headerlink" title="时间戳服务器"></a>时间戳服务器</h3><p>若想防止双重支付，则需要确保之前的拥有者没有对更早发生的交易实施签名。为了确保某一笔交易真实存在，唯一的方法就是获取该笔交易之前所有的交易，在去中心化的场景中，需要全网广播，所有的节点都保存相同的交易记录，记录了每一笔交易的先后顺序，对于每一笔交易而言，如果绝大多数的节点都认同该交易，则有效，就解决了双重支付的问题。</p>
<p><em>如何确保交易存在的有序、有效性？</em></p>
<p>中本聪提出的解决方案中设计了时间戳服务器。时间戳服务器通过对以区块（block）形式存在的一组数据实施随机散列而加上时间戳，并将该随机散列进行广播。显然，该时间戳能够证实特定数据必然于某特定时间是的确存在的，因为只有在该时刻存在了才能获取相应的随机散列值。每个时间戳应当将前一个时间戳纳入其随机散列值中，每一个随后的时间戳都对之前的一个时间戳进行增强(reinforcing)，这样就形成了一个链条（Chain）。</p>
<p><img src="http://7fvhfe.com1.z0.glb.clouddn.com/%40%2F/wp-content/uploads/2013/11/21.png" alt=""></p>
<p>但是需要注意的一点是存在一种双重支付的可能：欺诈者利用正常交易等待全网确认的时间实施一次欺诈交易，而被骗商家没有等到本次交易的全网认可就提供了商品交换，等到正常交易被确认后，欺诈交易将被驳回，但此时商品已被交换。这也就意味着，每次的交易成功需要全网确认后才算生效。</p>
<p><em>如何确认交易，由谁记录交易</em></p>
<p>交易广播到全网所有的矿工，矿工通过交易者的公钥简单确认交易，并记录在内存中，与此同时矿工们在不停地挖矿，想要获得记录交易的权利，而挖矿的过程即是一个工作量证明的过程，挖矿成功的人能够将交易打包到区块中，加入区块链，并获得一定数量的比特币奖励，一次挖矿的平均时间被设定为10分钟。</p>
<h3 id="工作量证明（proof-of-work）"><a href="#工作量证明（proof-of-work）" class="headerlink" title="工作量证明（proof-of-work）"></a>工作量证明（proof-of-work）</h3><p>矿工是比特币网络的计算节点，利用自己的计算机计算去竞争记录区块的权利，这个过程被称为挖矿，挖矿的过程也被称为工作量证明。</p>
<blockquote>
<p>工作量证明：对计算机而言，就是一个匹配SHA-256随机数的过程，整个过程CPU产生的工作量消耗为工作量证明。</p>
</blockquote>
<p><em>为什么要有工作量证明</em></p>
<p>工作量证明机制是最好的共识的机制。</p>
<p>在新的区块生成前，网络中会存在大量的交易待确认，这些交易中包含正常交易、欺诈交易、无效交易等，哪些交易该被记录，对于每一个矿工而言，选择不一定相同，这就需要一个合适的随机选择机制，这就是一个群体如何达到共识的问题。生物学中有一个原理叫做不利原理（the Handicap Principle），该原理可以帮助理解工作量证明。</p>
<p>产生区块的能力是计算能力的表现，这正是比特币网络所需要的，同时因为同意对下一区块产生竞争，显示了尊重社区利益而不是为一己私利操作区块，集体维护保证了整个区块链的诚实性。当然，矿工能够获取一定数量的比特币奖励作为激励,让矿工产生记账的动力。</p>
<p>工作量证明维护了区块链的诚实性，防止骗子通过分叉伪造交易；同时确保了交易信息的不可逆性，如果要篡改某个区块的交易信息，则必须完成该区块的工作量外加该区块之后所有区块的工作量，并最终赶上诚实节点的工作量，而这是不可能完成的。</p>
<p><img src="http://7fvhfe.com1.z0.glb.clouddn.com/%40%2F/wp-content/uploads/2013/11/31.png" alt=""></p>
<p>所以，工作量证明（挖矿）的过程是一个投票的过程，通过投票来替代“老大”，而具有投票权的“人”则是每一个CPU。工作量证明可以看作是不信任的互联网上达到共识的一种手段。</p>
<h3 id="交易过程描述"><a href="#交易过程描述" class="headerlink" title="交易过程描述"></a>交易过程描述</h3><p>整个过程的运行步骤如下：<br>1) 新的交易向全网进行广播；<br>2) 每一个节点都将收到的交易信息纳入一个区块中；<br>3) 每个节点都尝试在自己的区块中找到一个具有足够难度的工作量证明；<br>4) 当一个节点找到了一个工作量证明，它就向全网进行广播；<br>5) 当且仅当包含在该区块中的所有交易都是有效的且之前未存在过的，其他节点才认同该区块的有效性；<br>6) 其他节点表示他们接受该区块，而表示接受的方法，则是在跟随该区块的末尾，制造新的区块以延长该链条，而将被接受区块的随机散列值视为先于新区块的随机散列值。</p>
<p>节点始终都将最长的链条视为正确的链条，并持续工作和延长它。如果有两个节点同时广播不同版本的新区块，那么其他节点在接收到该区块的时间上将存在先后差别。当此情形，他们将在率先收到的区块基础上进行工作，但也会保留另外一个链条，以防后者变成最长的链条。该僵局（tie）的打破要等到下一个工作量证明被发现，而其中的一条链条被证实为是较长的一条，那么在另一条分支链条上工作的节点将转换阵营，开始在较长的链条上工作。</p>
<p>所谓“新的交易要广播”，实际上不需要抵达全部的节点。只要交易信息能够抵达足够多的节点，那么他们将很快被整合进一个区块中。而区块的广播对被丢弃的信息是具有容错能力的。如果一个节点没有收到某特定区块，那么该节点将会发现自己缺失了某个区块，也就可以提出自己下载该区块的请求。</p>
<h3 id="颠覆领域"><a href="#颠覆领域" class="headerlink" title="颠覆领域"></a>颠覆领域</h3><p>区块链是基于密码学与计算机算力的共识网络，由区块链技术支持的电子账本是无差错、不可篡改的可靠系统，大大降低信用评估所带来的高额成本，对支付、清算、交易、确权等有深刻影响，颠覆信任的浪潮即将席卷这些行业：</p>
<blockquote>
<p>银行结算：R3CEV</p>
<p>股票证券：小蚁</p>
<p>物联网：ADEPT</p>
<p>智能合约：hyperledger,ethereum(智能合约编程平台)</p>
<p>审计公证：Factom</p>
<p>供应链：Vechain</p>
<p>……</p>
</blockquote>
<p>一个通用的区块链系统具有如下的组织层次：</p>
<p><img src="http://7xlu9w.com1.z0.glb.clouddn.com/mitang_science_blockchain.png" alt=""></p>
<p>在一个由区块链实现的系统中，实体E1到E2之间数据的传递是不可逆的，整个网络系统没有中心机构，由分布式的网络节点投票确定交易的真实性。通过区块链的开发平台，可以构建出无数类型的去信任应用。</p>
<p>以ADEPT为例，ADEPT是IBM与三星合作开发的区块链物联网系统，底层是以太坊（Ethereum）平台构建<br>的区块链系统，上一层是telehash构成的通信协议层，顶层是BitTorrent构建的数据传输层。</p>
<p>以区块链为中心，ADEPT能够实现物理设备的自治化，在整个物联网系统中，设备与人之间的关系是平等的，设备能够通过记录数据追踪到不同设备之间的关系，设备与人之间的关系，人与人之间的关系，从而实现授权的安全转移，如门锁可以安全地与手机交互，或者与他人的手机交互。</p>
<p>从物联网的角度出发，区块链能够减少设备与云端的交互，使设备尽可能避免维护，大大降低云控制中心运维带来的成本，同时，设备变得更加灵活，设备资源变得更具有流通性。</p>
<h3 id="区块链助力银行自助渠道"><a href="#区块链助力银行自助渠道" class="headerlink" title="区块链助力银行自助渠道"></a>区块链助力银行自助渠道</h3><p>紫金公司作为金融自助服务领域的领军企业，致力为银行客户提供低成本高质量的解决方案，凭借多年的行业积累，针对用户痛点对症下药。</p>
<p>目前，银行的网络相对封闭，自助设备与客户之间依旧是一种交易型的关系。通常情况下，一个银行的营业网点部署了大量的设备，包括：ATM、VTM、BSM、发卡机、柜员机、排号机、服务机器人、查询终端等等，尽管连接统一的银行后台，但这些设备之间的弱连接性使得它们并未成为一个统一的服务实体。</p>
<p>银行的服务模式在转变，电子渠道与自助渠道是两个关键点，自助渠道的服务模式应该走在转变浪潮的前端。如何让设备更加智能，从交易型向服务型转变是问题的关键，能不能真的创造出一个无人管理的智慧银行呢？</p>
<p>从设备运维的角度分析，一个无人的智慧银行必定是一个分布式网络架构，区块链技术可以为设备自治提供基础。在一个区块链构成的去中心网络中，运维的成本会大大降低，根据业务流量的因素，设备可以改变自身的服务状态，在睡眠、运行、停机等状态间切换，而无需人工干预。如果出现设备异常，整个网络可以应对，保留正常服务或整台设备进入休眠状态。</p>
<p>从设备服务的角度分析，分布式网络中所有资源实现共享，对自助设备而言便是硬件资源共享、交易共享、服务状态共享，这些状态或资源可以在节点间实现安全转移。设想这样一个场景：一台ATM机器无法打印凭条，客户办理交易完成后，机器将打印凭条的任务转交给可用的机器，完成打印凭条服务的转移。</p>
<p>以上的两个角度仅仅是区块链自助行业应用的冰山一角，去中心的可信网络，由于其成本优势，势必会被逐渐的接纳和采用。</p>
<p>当然，要完全实现一个无人的智慧银行还有很多问题要解决，尽管客户体验越来越重要，但交易安全性还是首要考量，因此生物识别等技术是客户体验与安全性完美结合的首要前提。同时，不可忽略的是银行电子化对自助渠道的影响，在中心城市，现金的需求量逐渐减少，那么以现金业务为中心的自助服务如何提供更多优质的金融服务是个重要的问题。银行业转型背负着沉重的包袱，自助渠道需要在变革中一步一步引导消费者，路漫漫其修远兮，吾将上下而求索。</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a href="http://www.8btc.com/what-is-blockchain" target="_blank" rel="external">区块链是什么</a></li>
<li><a href="https://www.oreilly.com/ideas/understanding-the-blockchain" target="_blank" rel="external">理解区块链</a></li>
<li><a href="https://www.zhihu.com/question/27687960" target="_blank" rel="external">知乎-区块链</a></li>
<li><a href="https://www.okcoin.cn/t-1010486.html" target="_blank" rel="external">从中本聪的白皮书来重新审视区块链</a></li>
<li><a href="http://www.8btc.com/wiki/bitcoin-a-peer-to-peer-electronic-cash-system" target="_blank" rel="external">比特币白皮书（中文）</a></li>
<li><a href="https://bitcoin.org/bitcoin.pdf" target="_blank" rel="external">比特币白皮书（英文）</a></li>
<li><a href="http://8btc.com/article-1759-1.html" target="_blank" rel="external">比特币交易概念</a></li>
<li><a href="http://www.8btc.com/the-proof-of-work-concept" target="_blank" rel="external">工作量证明概念</a></li>
<li><a href="http://blog.codinglabs.org/articles/bitcoin-mechanism-make-easy.html" target="_blank" rel="external">一个故事告诉你比特币的原理及运作机制</a></li>
<li><a href="http://zhibimo.com/read/wang-miao/mastering-bitcoin/Chapter08.html" target="_blank" rel="external">挖矿与共识</a></li>
<li><a href="http://finance.ce.cn/rolling/201603/28/t20160328_9859176.shtml" target="_blank" rel="external">区块链助力上海国际金融中心</a></li>
<li><a href="http://36kr.com/p/5039777.html" target="_blank" rel="external">区块链成为金融领域的tcp/ip</a></li>
<li><a href="http://happypeter.github.io/bitcoin_basics/book/" target="_blank" rel="external">区块链细节讲解</a></li>
<li><a href="http://8btc.com/article-2039-1.html" target="_blank" rel="external">什么是公有链</a></li>
<li><a href="http://8btc.com/thread-31033-1-1.html" target="_blank" rel="external">区块链的私有链、混合链开源项目介绍</a></li>
</ol>
</div></article></div></section><footer><div class="paginator"><a href="/2016/04/30/深入浅出区块链/" class="prev">上一篇</a><a href="/2016/04/26/金融自助领域的创新思路/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2016 <a href="http://lpbobo.com">fish·nut</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p><p><span>友情链接</span>&#58;&nbsp;&nbsp;&nbsp;&nbsp;&bull;&nbsp;<a href="http://blog.csdn.net/sum__mer">sum__mer </a>&nbsp;&nbsp;&nbsp;&nbsp;&bull;&nbsp;<a href="http://www.rudy-yuan.net">rudy-yuan </a>&nbsp;&nbsp;&nbsp;&nbsp;&bull;&nbsp;<a href="http://elvin.im">花花世界 </a></p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>