<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 深入浅出区块链 · Mi Tang</title><meta name="description" content="深入浅出区块链 - fish·nut"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://lpbobo.com/atom.xml" title="Mi Tang"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">HOME</a></li><li class="nav-list-item"><a href="/categories/Science" target="_self" class="nav-list-link">SCIENCE</a></li><li class="nav-list-item"><a href="/categories/Trip" target="_self" class="nav-list-link">TRIP</a></li><li class="nav-list-item"><a href="/About" target="_self" class="nav-list-link">WE</a></li></ul></header><div class="wrap"><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">深入浅出区块链</h1><div class="post-info">2016年4月30日</div><div class="post-content"><p>本篇文章能让新手直观上认识区块链，而不仅仅是纠结于算法与模型，尤其是工作量证明机制；能使有经验的同学在了解的基础上，搞清楚区块链如何解决实际问题，发挥自己的想象力，结合实际应用区块链。</p>
<a id="more"></a>
<h2 id="数字货币的命题"><a href="#数字货币的命题" class="headerlink" title="数字货币的命题"></a>数字货币的命题</h2><p>科技改变世界，每一个科技创新一定是为了解决某个实际的问题或者是表现一种追求完美的态度，想想智能机，物联网，VR…，right？那么在货币领域呢？数字货币就是为了升级流行了几百年的以纸币为核心的货币体系，能够适应未来的人类生活方式。</p>
<p>最近这两年，普通人的生活方式已经被移动互联网改变，刷新闻，刷社交……其中，毫无疑问，支付方式最贴近人的现实生活。一个人可以不拿钱包出门，吃饭刷手机，逛街刷手机，路边买盒饭也可以刷手机……在这个过程中，现金慢慢地向电子化过渡，钱已经不是一捆捆放在桌子上看着开心的纸了，仅仅是手机上显示的一串数字。这与互联网能够带来的快捷密不可分，方便才是王道，貌似也很健康。对于银行而言，减少使用现金也可以大大降低成本，对于国家而言，也是开心的。适应这种节奏，电子现金慢慢成为主流。</p>
<p>电子现金只是数字货币体系的一部分。实际上，数字货币的概念是几十年前提出的，是与现有的纸币系统平行的一套体系。在现有的系统中，现金是有序列标识的，可鉴别真伪的，由国家发行监管的，现金的交换价值与市场相关。同样，数字货币体系要想实施，也需要对数字货币做这样的处理，保证数字货币的可流通，这就是数字货币需要考虑的命题。</p>
<p>在这个题目里有三个方面需要考虑，</p>
<ul>
<li><em>第一，如何确定收款人；</em></li>
<li><em>第二，如何确定汇款人；</em></li>
<li><em>第三，如何保证交易的唯一性；</em></li>
</ul>
<p>前两个难题在几十年前就已经被解决了，通过公钥/私钥非对称加密的方法能够确定交易双方的身份，但是第三个问题却迟迟找不到答案，与现金这种实体资源不同，数字货币无法在网络上实现“给予”的功能，即give。这个命题又被称作“双花问题”，如何解决数字资源的传递问题，是数字货币流行的关键。</p>
<p>直到2008年，区块链的问世，才让人们看到了数字货币的曙光。</p>
<h2 id="为什么要去中心化？"><a href="#为什么要去中心化？" class="headerlink" title="为什么要去中心化？"></a>为什么要去中心化？</h2><p>沉思三分钟，如果换做是你如何去解决双花问题？</p>
<p>1，2，3……</p>
<p>头脑风暴最直接地会告诉你这样一种答案：类似现实中的银行，搞个中央银行，每个人在银行里有个账户，交易记录由银行来完成。</p>
<p>其实这种方案是可行的，银行也很乐意去做，因为银行可以利用每个用户的钱去投资，去创造价值。<br>但实际上存钱的过程就是一个投资的过程，利息算是你的回报率，如果这样一想的话，你就可能觉得自己的回报率太低了，而且投资就是有风险。在国内，这种风险很小，因为银行是国家的，只要天朝不倒，就不用担心自己血本无归，但偶尔也会看到由于各种异常导致的自己账户资金减少的情况。</p>
<p>但在国外，银行就没有这么让人信服了，2008年的金融危机就是鲜活的例子，也算是一个导火索，让那些寻找公平的人想要去创造一个没有银行存在的货币体系，于是乎比特币作为第一个成熟的数字货币体系诞生了。（don’t mess with badass scientists)</p>
<p>在比特币系统中，<strong>去中心化是一种需求，是一个充分条件</strong>。</p>
<h2 id="分布式总账"><a href="#分布式总账" class="headerlink" title="分布式总账"></a>分布式总账</h2><p>去中心化意味着整个网络是分布式架构的，沉思一分钟，比特币如何在分布式的网络中解决双花问题呢？</p>
<p>1……</p>
<p>尽管数字货币没有实体货币的可转移性，但却比实体货币更容易追踪，在数字货币体系中，每一笔“钱”都可以轻易地追踪到流向。如此，只要在总账中记录每一笔交易，便记录每一笔钱的踪迹，便可以解决双花问题。</p>
<p>听起来很简单，但是如何保证记录的每笔交易是真实的却面临一个分布式网络中必须解决的问题：拜占庭将军问题。</p>
<blockquote>
<p>拜占庭将军问题描述的是如何在不可信的消息通道上通过消息传递达成共识，这个问题没有确定的解，而是需要考虑一种容错方案，保证决策正确。</p>
</blockquote>
<p>在分布式总账中，拜占庭将军问题可以这样描述：</p>
<blockquote>
<p>每一个节点都有记账的权利，也有确认交易有效性的权利，可以被称作“记账人”，记账人存在不诚实的可能性。系统中产生的任意一笔交易，每个记账人都会记录，然后全网广播，被其他记账人认可后才能够被添加到总账中。每一个记账人都会希望自己的账本有效（系统有奖励），其余的记账人有可能赞同，也有可能反对，因为这个账本有可能是真实的，有可能是伪造的。最终不同记账人可能出于不同的利益关系怀有这几种心态：赞同真实的账本，赞同伪造的账本，反对真实的账本，反对伪造的账本，那么添加到总账中的账本就有可能是虚假的。</p>
</blockquote>
<p>区块链设计了工作量证明机制确保记账人愿意记录真实的交易信息。</p>
<h3 id="工作量证明-pow-解决拜占庭将军问题"><a href="#工作量证明-pow-解决拜占庭将军问题" class="headerlink" title="工作量证明(pow)解决拜占庭将军问题"></a>工作量证明(pow)解决拜占庭将军问题</h3><p>工作量证明的过程就是计算机通过穷举去匹配一个由SHA-256算法加密的随机数，这个期间产生的CPU消耗被称为工作量证明，也证明了记账人愿意为了记账付出一定的成本（CPU运算消耗的资源）。最终记账权由工作量证明最快的CPU获取。</p>
<p>每个记账人出于成本因素会考虑自己账本内容的真实有效性，因为虚假的账本意味着同样付出的其他记账人很大程度上不会投票赞同这份账本，那么自己的成本将产出空值。</p>
<p>同时，区块链中的“链”则表明了交易的前后存在关系，每一个区块中包含多笔交易，区块就是每个记账人心中的账本，每一个区块对应的随机数将作为下一次工作量证明的输入，从而形成一条链条。</p>
<p>上面的分析简单说明了记账人愿意宣布真实的账本以防止白忙乎，但是没有证明记账人一定不会作假，还存在着拉帮结伙、同谋的可能性，但是“总账链”的方式确保了记账人不会作假。记账人投票的方式是在下一轮的工作量证明中获胜，并把自己的区块加入到赞同区块的后面，由此区块链也是一个工作量证明的链条。</p>
<p>假设在链条的某个区块上产生了分叉，一个虚假，一个真实，那么虚假链条上的记账人则需要保证自己在每一轮的工作量证明中都需要优胜才能够维持自己链条的发展，与诚实的链条产生竞争。可想而知，随着时间的推移，维护虚假链条的记账人最终会放弃，因而确保了总账记录的每一笔交易将以诚实的状态发展。</p>
<p>工作量证明解决拜占庭将军问题的核心在于尽管互不信任，但是出于利益最大化，成本最小化的考虑，记账人愿意展开公平的竞争，这种机制有效控制了整个社区的平衡发展。</p>
<p>本质上来说，工作量证明的本身是没有任何附加价值的，胜出者仅仅是计算能力最强的CPU，但是工作量证明对整个区块链生态的发展的意义却不止CPU计算这么简单。生物学中，不利原理阐述的是在自然选择的条件下，那些不利于物种本身的条件，比如孔雀的大尾巴，鹿的大角……，将最终促进整个种群的发展。<strong>在区块链生态中，CPU就是新的物种，工作量证明作为其不利条件的表现，将促进CPU本身的发展，并扩大整个网络的范围，最终带来整个生态的繁荣</strong>。</p>
<h3 id="工作量证明机制的补充-权益证明-proof-of-stake"><a href="#工作量证明机制的补充-权益证明-proof-of-stake" class="headerlink" title="工作量证明机制的补充 - 权益证明(proof-of-stake)"></a>工作量证明机制的补充 - 权益证明(proof-of-stake)</h3><p>工作量是一个去中心的投票过程，但是在其发展过程中，矿池的算力越来越大，逐渐朝一个中心化的机构发展，当其算力超过51%时（历史上出现过一次），将破坏整个网络的发展。</p>
<p>权益证明机制的设计能够解决工作量证明机制中的网络安全问题，货币的持有者拥有相应的“权益”，当把货币花费时，权益得到证明，因此若想要发动51%攻击，则需要花费全网51%的货币，实现这一目标的成本将要比51%算力还高。</p>
<p>一个单独拥有权益证明的体系无法保证投机行为对货币价值造成的冲击，同时在货币体量较小时，安全性也很低。</p>
<p>一种混合工作量证明与权益证明的体系将两者的优点互相结合，缺点互相补充，构成了一个更加完备的系统。</p>
<h2 id="区块链的价值"><a href="#区块链的价值" class="headerlink" title="区块链的价值"></a>区块链的价值</h2><p>区块链中没有中心化的机构，每个节点都能够拥有相同的总账，总账中的每一笔交易无法被篡改，简而言之，区块链就是一个无法修改的数字账本。</p>
<p>理解到这层含义，那么去中心化也可以看成是一个区块链的必要条件了。</p>
<p>区块链对于数字货币而言，其意义是巨大的，第一次实现了数字资产在网络上的“传递”，使数字货币成为可能。</p>
<p>扩展到互联网上，“”无法修改的账本“”意味着区块链可以改变现实生活中一切信任成本较高的行业，房地产、股票、证券、合约、供应链、银行清算结算……</p>
<h2 id="比特币是区块链唯一成熟应用"><a href="#比特币是区块链唯一成熟应用" class="headerlink" title="比特币是区块链唯一成熟应用"></a>比特币是区块链唯一成熟应用</h2><p>区块链既然潜力如此之大，为何只有比特币是唯一成熟的应用呢？</p>
<p>第一个原因，先有了比特币的想法，才有了区块链的设计，区块链设计之初就是用来服务比特币的。</p>
<p>第二个原因，区块链的生态系统需要足够的壮大。迄今为止，比特币已经发展了9年，但是依然还未成熟，还在不断地进化，一个不成熟的系统若不能够确保“无法修改的数字账本”的稳定性，也就失去了所有的意义。</p>
<p>第三个原因，工作量证明的成本对于数字货币体系是可以接受的，对于其他行业，则需要一种有效的替代，因此也有了其他各种币。</p>
<p>第四个原因，其他应用系统不够开放。一个去中心化的系统如果不够开放，相当于搬起石头砸自己的脚。</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>1.<a href="https://www.cryptocoinsnews.com/bitcoins-future-proof-of-stake-vs-proof-of-work/" target="_blank" rel="external">比特币的未来：POS vs POW</a></p>
</div></article></div></section><footer><div class="paginator"><a href="/2016/04/30/解读Java关键字final/" class="prev">上一篇</a><a href="/2016/04/29/聊聊区块链/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2016 <a href="http://lpbobo.com">fish·nut</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p><p><span>友情链接</span>&#58;&nbsp;&nbsp;&nbsp;&nbsp;&bull;&nbsp;<a href="http://blog.csdn.net/sum__mer">sum__mer </a>&nbsp;&nbsp;&nbsp;&nbsp;&bull;&nbsp;<a href="http://www.rudy-yuan.net">rudy-yuan </a>&nbsp;&nbsp;&nbsp;&nbsp;&bull;&nbsp;<a href="http://elvin.im">花花世界 </a></p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>